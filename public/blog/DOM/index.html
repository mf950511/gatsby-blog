<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.45 'Open Sans',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:black;font-family:'Open Sans',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:inherit;font-family:'Domine',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:inherit;font-family:'Domine',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:inherit;font-family:'Domine',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:inherit;font-family:'Domine',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:inherit;font-family:'Domine',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:inherit;font-family:'Domine',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;font-size:0.85rem;line-height:1.42;background:hsla(0,0%,0%,0.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.16rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}blockquote{margin-left:0;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:1.17812rem;padding-right:0;padding-top:0;margin-bottom:1.16rem;font-size:1.1487rem;line-height:1.45rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.27187rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.16rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.16rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.16rem / 2);margin-top:calc(1.16rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.16rem / 2);margin-top:calc(1.16rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.16rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}tt,code{background-color:hsla(0,0%,0%,0.04);border-radius:3px;font-family:"SFMono-Regular", Consolas,"Roboto Mono","Droid Sans Mono","Liberation Mono",Menlo,Courier,monospace;padding:0;padding-top:0.2em;padding-bottom:0.2em;}pre code{background:none;line-height:1.42;}code:before,code:after,tt:before,tt:after{letter-spacing:-0.2em;content:" ";}pre code:before,pre code:after,pre tt:before,pre tt:after{content:none;}h1,h2,h3,h4,h5,h6{line-height:1.1;}a{color:#ff5700;text-decoration:none;}a:hover,a:active{color:black;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.45rem;color:black;font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){html{font-size:100%;}blockquote{margin-left:-1.0875rem;margin-right:0;padding-left:0.81562rem;}}span, h1 , h2, h3, h4, h5, h6, p{color:#999;}ul, ol{margin:0;}</style><link as="script" rel="preload" href="/83d6cd58f512da6a6ea6dd96bfbf09511419d80b-744605ee7713f03b785c.js"/><style data-href="/styles.6c075c92cac89f908ae9.css">body{background:#fff}.me404{width:1000px;height:480px;position:absolute;top:50%;left:50%;margin-left:-400px;margin-top:-240px}.st0{fill-rule:evenodd;clip-rule:evenodd;fill:#e8ebed}.st1{fill:#fff;stroke:#89949b;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.st2{fill-rule:evenodd;clip-rule:evenodd;fill:#dbdfe1}.st3{fill:#fff}.st4{fill-rule:evenodd;fill:#e8ebed}.st4,.st5{clip-rule:evenodd;stroke:#89949b;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.st5{fill-rule:evenodd;fill:#fff}.st6{stroke:#89949b;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.st6,.st7{fill-rule:evenodd;clip-rule:evenodd;fill:none}.st7{stroke:#89949b;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.st8{fill-rule:evenodd;clip-rule:evenodd;fill:#fff;stroke:#89949b;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.st9{fill:#89949b}.st10{fill-rule:evenodd;fill:#89949b}.st10,.st11{clip-rule:evenodd}.st11{fill-rule:evenodd;fill:none;stroke:#89949b;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.st12,.st13{fill-rule:evenodd;clip-rule:evenodd;fill:#fff}.st13{stroke:#8894a0;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.st14{fill-rule:evenodd;clip-rule:evenodd}.st14,.st15{fill:none;stroke:#89949b;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}#cloud{animation:cloud 9s ease-in-out infinite}@keyframes cloud{0%{opacity:.3;left:160px;transform:skewX(20deg)}65%{opacity:1;left:114px;transform:skewX(0deg)}to{opacity:.3;left:160px;transform:skewX(20deg)}}#moon{transform-origin:640px 81px;animation:moon-float 6s ease-in-out infinite}@keyframes moon-float{0%{transform:translateY(20px) scale(1.1)}65%{transform:translate(0) scale(1)}to{transform:translateY(20px) scale(1.1)}}#monkey-eye-l{transform-origin:191px 257px;animation:blink-l 12s ease-in-out infinite}#monkey-eye-r{transform-origin:205px 256px;animation:blink-r 12s ease-in-out infinite}#monkey-arm{transform-origin:155px 298px;animation:monkey-arm 4s ease-in-out infinite}@keyframes monkey-arm{0%{transform:rotate(-10deg)}50%{transform:rotate(20deg)}to{transform:rotate(-10deg)}}@keyframes blink-l{0%{transform:rotateX(0deg)}2%{transform:rotateX(80deg)}4%,20%{transform:rotateX(0deg)}22%{transform:rotateX(80deg)}24%,30%{transform:rotateX(0deg)}32%{transform:rotateX(80deg)}34%,70%{transform:rotateX(0deg)}72%{transform:rotateX(80deg)}74%,to{transform:rotateX(0deg)}}@keyframes blink-r{0%{transform:rotateX(0deg)}2%{transform:rotateX(80deg)}4%,30%{transform:rotateX(0deg)}32%{transform:rotateX(80deg)}34%,50%{transform:rotateX(0deg)}52%{transform:rotateX(80deg)}54%,to{transform:rotateX(0deg)}}#star1{transform-origin:643px 338px;animation:star1 12s linear infinite,star1-fade 12s ease-in-out infinite}#star2{transform-origin:489px 82px;animation:star2 12s linear infinite,star2-fade 12s ease-in-out infinite}#star3{transform-origin:316px 344px;animation:star3 12s linear infinite,star3-fade 12s ease-in-out infinite}#star4{transform-origin:126px 182px;animation:star4 12s linear infinite,star4-fade 12s ease-in-out infinite}@keyframes star1{0%{transform:scale(.5) skewX(15deg) rotate(0deg)}15%{transform:scale(1) skewX(0deg) rotate(1turn)}30%,to{transform:scale(.5) skewX(15deg) rotate(2turn)}}@keyframes star2{0%,15%{transform:scale(.5) skewX(15deg) rotate(0deg)}30%{transform:scale(1) skewX(0deg) rotate(1turn)}45%,to{transform:scale(.5) skewX(15deg) rotate(2turn)}}@keyframes star3{0%,30%{transform:scale(.5) skewX(15deg) rotate(0deg)}45%{transform:scale(1) skewX(0deg) rotate(1turn)}60%,to{transform:scale(.5) skewX(15deg) rotate(2turn)}}@keyframes star4{0%,45%{transform:scale(.5) skewX(15deg) rotate(0deg)}60%{transform:scale(1) skewX(0deg) rotate(1turn)}75%,to{transform:scale(.5) skewX(15deg) rotate(2turn)}}@keyframes star1-fade{0%{opacity:0}15%{opacity:1}30%,to{opacity:0}}@keyframes star2-fade{0%,15%{opacity:0}30%{opacity:1}45%,to{opacity:0}}@keyframes star3-fade{0%,30%{opacity:0}45%{opacity:1}60%,to{opacity:0}}@keyframes star4-fade{0%,45%{opacity:0}60%{opacity:1}75%,to{opacity:0}}#sword-path{animation:tetris-float 3s ease-in-out infinite}#sword,#sword-path{transform-origin:458px 206px}#sword{animation:sword 4s ease-out infinite}@keyframes sword{0%,15%{transform:rotate(-40deg)}87%{transform:rotate(50deg)}to{transform:rotate(-40deg)}}#tetris-path{animation:tetris-float 5s ease-in-out infinite}#tetris,#tetris-path{transform-origin:538px 374px}#tetris{animation:rotate 10s steps(1) infinite alternate}@keyframes rotate{0%{transform:rotate(0deg)}25%{transform:rotate(90deg)}50%{transform:rotate(180deg)}75%{transform:rotate(270deg)}to{transform:rotate(1turn)}}@keyframes tetris-float{0%{transform:translate(0) scale(.9)}65%{transform:translateY(30px) scale(1)}to{transform:translate(0) scale(.9)}}#triforce{transform-origin:175px 91px;animation:triforce-float 3s ease-in-out infinite}lesshat-selector{-lh-property:0}@keyframes triforce-float{0%{transform:translate(0) scale(.9)}65%{transform:translateY(30px) scale(1)}to{transform:translate(0) scale(.9)}}[not-existing]{zoom:1}.authorInfo-module--authorInfo--gr-99{color:#fff}.authorInfo-module--authorInfo--gr-99 .authorInfo-module--imgWrapper--30Yrt{width:128px;height:128px;overflow:hidden;position:relative;box-shadow:0 0 0 2px hsla(0,0%,100%,.5),0 2px 20px 3px rgba(0,0,0,.25);border-radius:300px}.authorInfo-module--authorInfo--gr-99 .authorInfo-module--imgWrapper--30Yrt img{position:absolute;top:-40px}.authorInfo-module--authorInfo--gr-99 .authorInfo-module--authorName--GPPjR{margin:20px 0}.authorInfo-module--authorInfo--gr-99 a{color:#fff}.authorInfo-module--authorInfo--gr-99 a:hover{color:#4d4d4b}.authorInfo-module--authorInfo--gr-99 p{color:#fff}.navLeft-module--navLeft--1SxhG{width:300px;opacity:1;height:100%;background:url(/static/bg2-70973c308892c6eb8c89415e6cc12dc6.jpg) no-repeat 50%;background-size:cover;position:relative;z-index:0}.navLeft-module--navLeft--1SxhG .navLeft-module--overlay--1jp1U{width:100%;height:100%;background-color:rgba(0,0,0,.75);position:absolute;opacity:.7;z-index:-1}.navTop-module--navTop--1_zLH{opacity:1;background:url(/static/bg2-70973c308892c6eb8c89415e6cc12dc6.jpg) no-repeat 50%;background-size:cover;position:relative;z-index:0}.navTop-module--navTop--1_zLH .navTop-module--overlay--11W-h{width:100%;height:100%;background-color:rgba(0,0,0,.75);position:absolute;opacity:.7;z-index:-1}.layout-module--container--280Lj .layout-module--nav--2_Lzo{position:fixed;height:100%;width:300px}@media screen and (min-width:800px){.layout-module--container--280Lj .layout-module--nav--2_Lzo{display:block}}@media screen and (max-width:800px){.layout-module--container--280Lj .layout-module--nav--2_Lzo{display:none}}.article-title{color:#999;margin-left:0;font-weight:400;line-height:35px;margin-bottom:20px;text-align:center;font-size:26px;transition:color .3s}.article-title.left{text-align:left}.article-title:hover{color:#fff}.article-entry h1{font-size:2rem;margin:2rem 0;padding:0;font-weight:700;text-align:center;color:#ff4081}.article-entry h2{padding:0 0 0 20px;line-height:1.8em;position:relative;font-size:1.3em;margin-top:.8em;font-weight:700}.article-entry li{padding-left:1rem}.article-entry ul li{position:relative;padding-left:1.25rem}.article-entry ul li:hover{background:#2e2e2e}.article-entry ul li p{display:inline-block;text-indent:0;padding-left:0!important}.article-entry ul li:before{position:absolute;width:1.25rem;height:1.25rem;left:0;top:.3125rem;content:"\F05D";font:normal normal normal .875rem/1 FontAwesome}.article-entry li code,.article-entry p code{padding:1px 3px;margin:0 3px;color:#d1d1d2;background:rgba(32,33,43,.9);border:1px dashed #20212b;border-radius:3px;word-wrap:break-word;font-size:.875rem}.article-entry a,.article-entry a:hover{color:#4094c7}.article-entry pre{background:#282a36;overflow:auto}.article-entry pre::-webkit-scrollbar{width:4px;height:4px}.article-entry pre::-webkit-scrollbar-thumb{border-radius:5px;-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.2);background:rgba(0,0,0,.2)}.article-entry pre::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.2);border-radius:0;background:rgba(0,0,0,.1)}.article-entry-bottom{margin-top:2.5rem}.article-entry-bottom .article-more-link a{background:#258fb8;color:#fff;font-size:12px;padding:2px 8px 4px;line-height:16px;border-radius:2px;transition:background .3s}.article-entry h2:before,.article-entry h4:before,.article-entry h5:before,.article-entry h6:before{position:absolute;content:"";left:0;top:0;bottom:0;width:5px;border-radius:2px;background:#ec407a;box-shadow:inset 0 1px 1px rgba(0,0,0,.5),0 1px 1px hsla(0,0%,100%,.3)}.archives-wrap{position:relative;margin:0 1.875rem;padding-right:3.75rem;border-bottom:2px solid #2f2f2f;color:#999}.archives-wrap:first-child{margin-top:1.875rem}.archives-wrap .archive-year-wrap{line-height:2.1875rem;width:12.5rem;position:absolute;padding-top:.9375rem;font-size:1.8rem}.archives-wrap .archives{position:relative}.archives-wrap .archives .archive-article{margin-left:9.375rem;padding:1.25rem 0;border-bottom:1px solid #2f2f2f;border-top:1px solid #2f2f2f;position:relative}.archives-wrap .archives .archive-article:first-child{border-top:none}.archives-wrap .archives .archive-article:last-child{border-bottom:none}.archives-wrap .archives .archive-article .archive-article-header{position:relative}.archives-wrap .archives .archive-article .archive-article-header .archive-title a{color:#999}.archives-wrap .archives .archive-article .archive-article-header .archive-title a:hover{color:#fff}.archives-wrap .archives .archive-article .archive-article-header time{font-size:.75rem;color:#aaa;margin-top:.1875rem;cursor:default}.archives-wrap .archives .archive-article .archive-article-header time:before{content:"\F073";color:#999;position:relative;margin-right:.625rem;font:.875rem FontAwesome}@media screen and (max-width:800px){.archives-wrap{margin:10px 10px 0;padding:10px 20px 10px 10px}.archives-wrap .archive-year-wrap{position:relative;padding:0}.archives-wrap .archive-year-wrap a{padding:0}.archives-wrap .archives .archive-article{padding:10px 0;margin-left:0}}.main{min-height:100%;position:absolute;background:#3f3f3f;right:0;overflow-x:hidden}.main>div::-webkit-scrollbar{width:4px;height:4px}.main>div::-webkit-scrollbar-thumb{border-radius:5px;-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.2);background:rgba(0,0,0,.2)}.main>div::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.2);border-radius:0;background:rgba(0,0,0,.1)}@media screen and (min-width:800px){.navTop{display:none}.main{left:300px}}@media screen and (max-width:800px){.navTop{display:block}.main{left:0}}@font-face{font-family:FontAwesome;src:url(/static/fontawesome-webfont-8b27bc96115c2d24350f0d09e6a9433f.eot);src:url(/static/fontawesome-webfont-8b27bc96115c2d24350f0d09e6a9433f.eot?#iefix) format("embedded-opentype"),url(/static/fontawesome-webfont-3293616ec0c605c7c2db25829a0a509e.woff) format("woff"),url(/static/fontawesome-webfont-dcb26c7239d850266941e80370e207c1.ttf) format("truetype"),url(/static/fontawesome-webfont-b526f0637e912fae979bcfe9f0c9bd74.svg#FontAwesomeRegular) format("svg"),url(/static/fontawesome-webfont-b526f0637e912fae979bcfe9f0c9bd74.svg#FontAwesomeRegular) format("svg");font-weight:400;font-style:normal}body{background:#3f3f3f;color:#999}

/*! https://github.com/lzxb/flex.css */[data-flex]{display:flex}[data-flex]>*{display:block}[data-flex]>[data-flex]{display:flex}[data-flex~="dir:left"]{flex-direction:row}[data-flex~="dir:right"]{flex-direction:row-reverse;-webkit-box-pack:end}[data-flex~="dir:top"]{flex-direction:column}[data-flex~="dir:bottom"]{flex-direction:column-reverse;-webkit-box-pack:end}[data-flex~="main:left"]{justify-content:flex-start}[data-flex~="main:right"]{justify-content:flex-end}[data-flex~="main:justify"]{justify-content:space-between}[data-flex~="main:center"]{justify-content:center}[data-flex~="cross:top"]{align-items:flex-start}[data-flex~="cross:bottom"]{align-items:flex-end}[data-flex~="cross:center"]{align-items:center}[data-flex~="cross:baseline"]{align-items:baseline}[data-flex~="cross:stretch"]{align-items:stretch}[data-flex~="box:first"]>*,[data-flex~="box:justify"]>*,[data-flex~="box:last"]>*,[data-flex~="box:mean"]>*{width:0;height:auto;flex-grow:1;flex-shrink:1}[data-flex~="box:first"]>:first-child,[data-flex~="box:justify"]>:first-child,[data-flex~="box:justify"]>:last-child,[data-flex~="box:last"]>:last-child{width:auto;flex-grow:0;flex-shrink:0}[data-flex~="dir:bottom"][data-flex~="box:first"]>*,[data-flex~="dir:bottom"][data-flex~="box:justify"]>*,[data-flex~="dir:bottom"][data-flex~="box:last"]>*,[data-flex~="dir:bottom"][data-flex~="box:mean"]>*,[data-flex~="dir:top"][data-flex~="box:first"]>*,[data-flex~="dir:top"][data-flex~="box:justify"]>*,[data-flex~="dir:top"][data-flex~="box:last"]>*,[data-flex~="dir:top"][data-flex~="box:mean"]>*{width:auto;height:0;flex-grow:1;flex-shrink:1}[data-flex~="dir:bottom"][data-flex~="box:first"]>:first-child,[data-flex~="dir:bottom"][data-flex~="box:justify"]>:first-child [data-flex~="dir:bottom"][data-flex~="box:justify"]>:last-child,[data-flex~="dir:bottom"][data-flex~="box:last"]>:last-child,[data-flex~="dir:top"][data-flex~="box:first"]>:first-child,[data-flex~="dir:top"][data-flex~="box:justify"]>:first-child,[data-flex~="dir:top"][data-flex~="box:justify"]>:last-child,[data-flex~="dir:top"][data-flex~="box:last"]>:last-child{height:auto;flex-grow:0;flex-shrink:0}[data-flex-box="0"]{flex-grow:0;flex-shrink:0}[data-flex-box="1"]{flex-grow:1;flex-shrink:1}[data-flex-box="2"]{flex-grow:2;flex-shrink:2}[data-flex-box="3"]{flex-grow:3;flex-shrink:3}[data-flex-box="4"]{flex-grow:4;flex-shrink:4}[data-flex-box="5"]{flex-grow:5;flex-shrink:5}[data-flex-box="6"]{flex-grow:6;flex-shrink:6}[data-flex-box="7"]{flex-grow:7;flex-shrink:7}[data-flex-box="8"]{flex-grow:8;flex-shrink:8}[data-flex-box="9"]{flex-grow:9;flex-shrink:9}[data-flex-box="10"]{flex-grow:10;flex-shrink:10}.listWrapper-module--hide--2daIu{visibility:hidden}.listWrapper-module--listWrapper--FBSVx{margin:30px;position:relative;transition:all .2s ease-in}.listWrapper-module--listWrapper--FBSVx .listWrapper-module--listContent--6okCO{position:relative;border:1px solid #2f2f2f;margin-bottom:20px;padding:20px;border-radius:6px;box-shadow:4px 4px 18px rgba(0,0,0,.46)}.listWrapper-module--listWrapper--FBSVx .listWrapper-module--listContent--6okCO ol,.listWrapper-module--listWrapper--FBSVx .listWrapper-module--listContent--6okCO p,.listWrapper-module--listWrapper--FBSVx .listWrapper-module--listContent--6okCO ul{list-style:none}.listWrapper-module--listWrapper--FBSVx .listWrapper-module--listContent--6okCO ol,.listWrapper-module--listWrapper--FBSVx .listWrapper-module--listContent--6okCO ul{margin:0}@media screen and (min-width:800px){.listWrapper-module--listContent--6okCO ol,.listWrapper-module--listContent--6okCO p,.listWrapper-module--listContent--6okCO ul{padding-left:1rem}}@media screen and (max-width:800px){.listWrapper-module--listContent--6okCO ol,.listWrapper-module--listContent--6okCO p,.listWrapper-module--listContent--6okCO ul{padding-left:0}}.tagInfo-module--tagInfoWrap--e-EOI{width:100%;display:flex;flex-wrap:wrap;align-items:center;font-size:.75rem}.tagInfo-module--tagInfoWrap--e-EOI a{display:inline-block;text-decoration:none;font-weight:400;font-size:.625rem;color:#fff;height:1.125rem;line-height:1.125rem;padding:0 5px 0 10px;position:relative;border-radius:0 5px 5px 0;margin:5px 9px 5px 8px}.tagInfo-module--tagInfoWrap--e-EOI a:before{content:" ";width:0;height:0;position:absolute;top:0;left:-1.125rem;border:9px solid transparent}.tagInfo-module--tagInfoWrap--e-EOI a:after{content:" ";width:4px;height:4px;background-color:#fff;border-radius:4px;box-shadow:0 0 0 1px rgba(0,0,0,.3);position:absolute;top:7px;left:2px}.tagInfo-module--tagInfoWrap--e-EOI .tagInfo-module--tagClassify--11TLD:before{color:#999;content:"\F02D";font:1rem FontAwesome;float:left;margin-right:.625rem;padding-top:.3125rem}.tagInfo-module--tagInfoWrap--e-EOI .tagInfo-module--tagClassify--11TLD a{background:#e23794}.tagInfo-module--tagInfoWrap--e-EOI .tagInfo-module--tagClassify--11TLD a:before{border-right-color:#e23794}.tagInfo-module--tagInfoWrap--e-EOI .tagInfo-module--tagClassify--11TLD a:hover{color:#ddd}.tagInfo-module--tagInfoWrap--e-EOI .tagInfo-module--tagList--2JajG{flex-wrap:wrap}.tagInfo-module--tagInfoWrap--e-EOI .tagInfo-module--tagList--2JajG:before{color:#999;content:"\F02E";font:1rem FontAwesome;float:left;margin-right:.625rem;margin-top:.3125rem}.tagInfo-module--tagInfoWrap--e-EOI .tagInfo-module--tagList--2JajG .tagInfo-module--tag--1NeBn a{background:#4cae4c}.tagInfo-module--tagInfoWrap--e-EOI .tagInfo-module--tagList--2JajG .tagInfo-module--tag--1NeBn a:before{border-right-color:#4cae4c}.tagInfo-module--tagInfoWrap--e-EOI .tagInfo-module--tagList--2JajG .tagInfo-module--tag--1NeBn a:hover{color:#ddd}.paganation-module--paganation--2bE_X{text-align:center;padding:30px 0}.paganation-module--paganation--2bE_X:hover .paganation-module--extend--2q4Qk{opacity:1}.paganation-module--paganation--2bE_X .paganation-module--extend--2q4Qk{color:#999;margin:0 27px;opacity:0}.paganation-module--paganation--2bE_X .paganation-module--hide--wBlxP{opacity:0}.paganation-module--paganation--2bE_X .paganation-module--pageNumber--RUHS6{width:20px;height:20px;background:#4d4d4d;border-radius:50%;display:inline-block;color:#fff;line-height:20px;font-size:12px;margin:0 3px 30px}.paganation-module--paganation--2bE_X .paganation-module--pageNumber--RUHS6:hover{background:#5e5e5e}.paganation-module--paganation--2bE_X .paganation-module--pageNumber--RUHS6.paganation-module--current--39YZ4{background:#4094c7;cursor:default}.paganation-module--paganation--2bE_X .paganation-module--pageNumber--RUHS6.paganation-module--current--39YZ4:hover{background:#4094c7}.hljs{display:block;overflow-x:auto;padding:.5em;color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><link href="//fonts.googleapis.com/css?family=Domine:700|Open+Sans:400,400i,700,700i" rel="stylesheet" type="text/css"/><link as="script" rel="preload" href="/styles-89fd2ae28bdf06750a71.js"/><link as="script" rel="preload" href="/component---src-templates-blog-small-jsx-7847ba26c250224f083e.js"/><meta name="generator" content="Gatsby 2.24.63"/><link as="script" rel="preload" href="/framework-31fa3cffff5950ebff26.js"/><link as="script" rel="preload" href="/app-03a564126170dae91f0b.js"/><link as="script" rel="preload" href="/webpack-runtime-c691ad7dc71c44256655.js"/><link as="fetch" rel="preload" href="/page-data\blog\DOM\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2566592090.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data\app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-module--container--280Lj"><div class="layout-module--nav--2_Lzo"><div class="navLeft-module--navLeft--1SxhG" data-flex="main:center cross:center"><div class="navLeft-module--overlay--1jp1U"></div><header class="authorInfo-module--authorInfo--gr-99" data-flex="dir:top cross:center"><a href="/"><div class="authorInfo-module--imgWrapper--30Yrt"><img src="/static/cat-4c59261f56e727d38ef6862edcb9a7d4.jpg" alt=""/></div></a><hgroup data-flex="dir:top cross:center"><h2 class="authorInfo-module--authorName--GPPjR"><a href="/">Francis</a></h2><p>前端小白，光吃不做</p></hgroup></header></div></div><div class="main"><div class="navTop"><div id="navTop"><div class="navTop-module--navTop--1_zLH"><div class="navTop-module--overlay--11W-h"></div><header class="authorInfo-module--authorInfo--gr-99" data-flex="dir:top cross:center"><a href="/"><div class="authorInfo-module--imgWrapper--30Yrt"><img src="/static/cat-4c59261f56e727d38ef6862edcb9a7d4.jpg" alt=""/></div></a><hgroup data-flex="dir:top cross:center"><h2 class="authorInfo-module--authorName--GPPjR"><a href="/">Francis</a></h2><p>前端小白，光吃不做</p></hgroup></header></div></div></div><div class="blogList"><span><article class="listWrapper-module--listWrapper--FBSVx"><div class="listWrapper-module--listContent--6okCO"><div></div><a aria-current="page" class="" href="/blog/DOM/"><h1 class="article-title">DOM--高程4</h1></a><div class="tagInfo-module--tagInfoWrap--e-EOI"><div class="tagInfo-module--tagClassify--11TLD"><a href="/category/JavaScript">JavaScript</a></div><div class="tagInfo-module--tagList--2JajG" data-flex="main:left"><div class="tagInfo-module--tag--1NeBn"><a href="/tag/JavaScript回顾">JavaScript回顾</a></div></div></div><div class="article-entry"><h1>DOM</h1>
<ul>
<li>文档对象类型（DOM,Document Object Model）是HTML和XML文档的编程接口。DOM表示由多层节点构成的文档，通过它开发者可以添加、删除、修改页面部分。DOM现在是真正跨平台、语言无关的表示和操作王爷的方式。</li>
<li>IE8及以下的DOM都是通过COM对象实现的，也就是这些版本中的DOM对象与原生JavaScript具有不同的行为和功能。</li>
<li>document为每个文档的根节点。根节点的唯一子节点是html，我们成为文档元素(documentElement)，每个文档只能有一个文档元素。HTML页面中，文档元素始终是<html>元素，XML文档中就没有这个限制。</li>
<li>DOM中有12中节点类型，这些类型都继承一种基本类型。</li>
</ul>
<h2>Node类型</h2>
<ul>
<li>DOM Level 1描述了名为Node的接口，这个接口是所有DOM节点类型都必须实现的。Node接口在JavaScript中被实现为Node类型，除IE外的所有浏览器都可以直接访问这个类型。所有节点类型都继承Node类型，因此所有类型都共享相同的基本属性和方法</li>
<li>
<p>每个节点都有nodeType属性，表示该节点的类型，类型值如下</p>
<ul>
<li>Node.ELEMENT_NODE (1)</li>
<li>Node.ATTRIBUTE_NODE (2)</li>
<li>NODE.TEXT_NODE (3)</li>
<li>NODE.CDATA<em>SECTION</em>NODE (4)</li>
<li>NODE.ENTITY<em>REFERENCE</em>NODE (5)</li>
<li>NODE.ENTITY_NODE (6)</li>
<li>NODE.PROCESSING<em>INSTRUCTION</em>NODE (7)</li>
<li>NODE.COMMENT_NODE (8)</li>
<li>NODE.DOCUMENT_NODE (9)</li>
<li>NODE.DOCUMENT<em>TYPE</em>NODE (10)</li>
<li>NODE.DOCUMENT<em>FRAGMENT</em>NODE (11)</li>
<li>NODE.NOTATION_NODE (12)</li>
</ul>
</li>
<li>
<p>节点类型可以与这些常量对比</p>
<!--more-->
<pre><code class="language-js">if(someNode.nodeType == NODE.ELEMENT_NODE) {
console.log("Node is an element")
}
</code></pre>
</li>
<li>nodeName与nodeValue保存节点的相关信息，使用前最好先检测节点类型，对元素而言，nodeName始终为元素的标签名，nodeValue则为null</li>
</ul>
<pre><code class="language-js">if(someNode.nodeType == 1) {
    value = someNode.nodeName // 元素的标签名
}
</code></pre>
<ul>
<li>每个节点都有一个childNodes属性，包含一个NodeList的实例。NodeList是一个类数组对象那个，用于存储按位置存储的有序节点。</li>
<li>NodeList是对DOM的查询，DOM的变动会自动在NodeList中反映出来，我们说的NodeList是实时的活动对象，不是第一次访问时所获得内容的快照</li>
<li>可以使用中括号或者使用item()方法访问NodeList中的元素</li>
</ul>
<pre><code class="language-js">let firstChild = someNode.childNodes[0]
let secondChild = someNode.childNodes.item(1)
</code></pre>
<ul>
<li>每个节点都有一个parentNode属性，指向DOM树中的父元素。childNodes所有节点都有一个父元素，所以它们的parentNode都指向同一个节点，而且childNodes列表中的每个节点都是其他节点的同胞节点，可以使用previousSibling和nextSibling可以用来在其中导航。列表第一个元素的previousSibling跟最后一个节点的nextSibling属性都是null</li>
<li>父节点的firstChild属性与lastChild属性分别指向它的第一个和最后一个子节点。只有一个子节点，firstChild与lastChild指向同一个节点，没有子节点就都是null</li>
<li>一个节点可以调用hasChildNodes()返回true说明节点有一个或多个子节点。</li>
<li>所有节点都共享的关系。ownerDocument属性是指向整个文档的文档节点的指针。</li>
</ul>
<h2>操纵节点</h2>
<ul>
<li>appendChild()用于在childNodes列表尾部添加节点，并更新相关的关系指针（如firstChild等），返回值为新添加的节点</li>
</ul>
<pre><code class="language-js">let returnNode = someNode.appendChild(newNode)
console.log(returnNode === newNode) // true
console.log(someNode.lastChild === newNode) // true
</code></pre>
<ul>
<li>如果把文档中已经存在的节点传入appendChild中，那这个节点会被移动到新位置。如果传入了这个节点的第一个子节点，那这个子节点就会变成最后一个子节点</li>
<li>可以使用insertBefore()将节点放到childNodes中的特定位置，接受两个参数：要插入的节点和参照节点，调用方法后，插入的节点变成参照节点的前一个节点，并被返回，如果参照节点为null，那调用效果与appendChild相同</li>
<li>replaceChild()接受两个参数：要插入的节点和要替换的节点，要替换的节点会被返回并从文档中移除。</li>
<li>removeChild()可以移除节点，接收一个参数：要移除的节点，被移除的节点会被返回</li>
<li>所有节点类型还共享了两个方法</li>
<li>cloneNode()会返回一个与节点一样的节点。接收一个参数表示是否深复制。为true时执行深复制，即复制节点与整个子DOM树。为false时只会复制调用该方法的节点。返回的节点属于文档所有，但没有指定父节点，也叫做孤儿节点</li>
</ul>
<pre><code class="language-js">&#x3C;ul>
    &#x3C;li>item 1&#x3C;/li>
    &#x3C;li>item 2&#x3C;/li>
    &#x3C;li>item 3&#x3C;/li>
&#x3C;/ul>

// Mylist保存对上面元素的引用
let deepList = Mylist.cloneNode(true)
console.log(deepList.childNodes.length) // 3
let deepList = Mylist.cloneNode(false)
console.log(deepList.childNodes.length) // 0
</code></pre>
<ul>
<li>cloneNode不会复制添加到DOM节点的JavaScript属性（事件处理程序等），指挥复制HTML属性以及可选的复制子节点。IE在很长时间内会复制事件处理程序，所以推荐在复制前先删除事件处理程序</li>
<li>另一个是normalize()方法，唯一的作用就是处理文档子树中的文本节点。由于解析器或者DOM等操作导致出现不包含文本的文本节点或者两个相邻的文本节点。调用normalize()方法后会检测这个节点的所有后代，发现空文本节点就删除，相邻文本节点就合并</li>
</ul>
<h2>Document类型</h2>
<ul>
<li>
<p>Document类型是JavaScript中表示文档类型的类型。浏览器中，文档对象document是HTMLDocument的实例（HTMLDocument继承Document），表示整个HTML页面。document是window对象的属性，因此是全局对象，有以下特征</p>
<ul>
<li>nodeType等于9</li>
<li>nodeName为"#document"</li>
<li>nodeValue为null</li>
<li>ownerDocument值为null</li>
<li>子节点可以为DocumentType(最多一个)、Element(最多一个)、ProcessingInstruction或Comment类型</li>
</ul>
</li>
<li>Document类型可以表示HTML页面或其他XML文档，最常用的还是通过HTMLDocument取得document对象，document对象可以用于获取页面信息和操纵其外观和底层结构</li>
<li>document.documentElement属性始终指向HTML中的html元素</li>
<li>document.body始终指向body元素</li>
<li>Document类型另一种可能的子节点DocumentType，&#x3C;!doctype>标签是文档中独立部分，信息可以通过document.doctype访问</li>
<li>document.title可用于读写页面的标题</li>
<li>document.URL包含页面的完整URL</li>
<li>document.domain获取当前页面的域名</li>
<li>document.referrer包含链接到当前页面的那个页面的URL，如果当前页面没有来源，那document.referrer包含空字符串。所有这些信息都可以在HTTP头部信息获取。</li>
<li>这些属性中只有域名是可设置的，出于安全考虑，给domain设置的值有限制，如果URL包含子域名如p2p.wrox.com，则可以设置为"wrop.com"，不能设置URL中不包含的值。</li>
<li>当页面中包含来自不同子域的窗格（<frame>）或内嵌窗格(<iframe>)时，可以设置document.domain来绕过浏览器跨域通信的限制，实现JavaScript通信。在每个页面上把document.domain设置为相同的值，那就可以互相访问对方的JavaScript对象了。比如，一个加载自www.wrox.com的页面包含内嵌窗格，其中页面加载自p2p.wrox.com。两个页面的document.domain包含不同的字符串，内部与外部不能相互访问。要是把document.domain都设为wrox.com后就可以通信了</li>
<li>浏览器对domain还有一个限制，将document.domain设置为"wrox.com"后就不能设置回"p2p.wrox.com"</li>
</ul>
<h2>定位元素</h2>
<ul>
<li>document.getElementById()接收一个参数，获取元素的id，找到了返回元素，没找到返回null，参数区分大小写，有多个相同id时返回文档中出现的第一个元素</li>
<li>document.getElementsByTagName()接收一个元素的标签名，返回包含一个或多个元素的NodeList。在HTML文档中，返回一个HTMLCollection对象，也是一个实时列表。可以使用中括号或者item()方法取值。</li>
<li>HTMLCollection对象有一个额外的方法namedItem()，可通过标签的name取得某一项的引用。比如</li>
<li>对于name属性的元素，也可以直接通过中括号来获取</li>
</ul>
<pre><code class="language-js">&#x3C;img src="a.gif" name="myImage"/>

let images = document.getElementsByTagName('img')
let myImage = images.namedItem('myImage')
let myImage = images['myImage']
</code></pre>
<ul>
<li>对HTMLCollection对象，中括号可接受数值索引，也可以接受字符串索引，在后台，数值索引会调用item()，字符串索引调用namedItem()</li>
<li>匹配所有元素可以传入*</li>
<li>document.getElementsByName()接收一个字符串，返回具有给定name属性的元素</li>
<li>
<p>document对象还暴露了几个特殊集合，这些集合也都是HTMLCollection的实例，如下</p>
<ul>
<li>document.authors包含文档中所有带name属性的<a>元素</li>
<li>document.applets包含文档中的所有<applet>元素（applet元素不推荐使用，所以集合已经废弃）</li>
<li>document.forms包含文档中的所有<form>元素</li>
<li>document.images包含文档中的所有<img>元素</li>
<li>document.links包含文档中的所有带href属性的<a>元素</li>
</ul>
</li>
<li>这些特殊集合都存在与HTMLDocument对象上，内容也都是实时更新的</li>
</ul>
<h2>DOM兼容性测试</h2>
<ul>
<li>由于DOM有多个Level和多个部分，所以需要确定浏览器实现了哪些DOM。</li>
<li>document.implementation属性是一个对象，提供了浏览器DOM实现的信息与能力。DOM Level 1在document.implementation只定义了一个方法hasFeature()，接受两个参数：特性名称和DOM版本。如果浏览器支持特性和版本就返回true</li>
</ul>
<pre><code class="language-js">let hasXmlDom = document.implementation.hasFeature('XML', '1.0')
</code></pre>
<ul>
<li>
<p>可以用hasFeature()方法检测的特性及版本如下</p>
<ul>
<li>Core: 1.0、2.0、3.0，定义属性文档结构的基本DOM</li>
<li>XML: 1.0、2.0、3.0,Core的XML拓展，增加了对CDATA区块、处理指令和实体的支持</li>
<li>HTML: 1.0、2.0，XML的HTML拓展，增加了HTML特定的元素和实体</li>
<li>Views: 2.0，文档基于某些样式的实现格式</li>
<li>StyleSheets: 2.0，文档的相关样式表</li>
<li>CSS: 2.0，Cascading Style Sheets Level 1</li>
<li>CSS2: 2.0，Cascading Style Sheets Level 1</li>
<li>Events: 2.0、3.0， 通用DOM事件</li>
<li>UIEvents: 2.0、3.0，用户界面事件</li>
<li>TextEvents: 3.0，文本输入设备触发的事件</li>
<li>MouseEvents: 2.0、3.0，鼠标触发的事件</li>
<li>MutationEvents: 2.0、3.0，DOM树变化时触发的事件</li>
<li>MutationNameEvents: 3.0，DOM元素或元素属性被重命名时触发的事件</li>
<li>HTMLEvents: 2.0，HTML 4.01事件</li>
<li>Range: 2.0，在DOM树中操作一定范围的对象和方法</li>
<li>Traversal: 2.0，遍历DOM树的方法</li>
<li>LS:3.0，文件与DOM树之间的同步加载与保存</li>
<li>LS-Async: 3.0，文件与DOM树之间的异步加载与保存</li>
<li>Validation: 3.0，修改DOM树并保证其继续有效的方法</li>
<li>XPath: 3.0，访问XML文档不同部分的语言</li>
</ul>
</li>
<li>由于实现不一致，hasFeature()返回值并不可靠，方法现在已经被废弃。为了向后兼容，目前主流浏览器仍然支持这个方法，但不论检测什么都返回true</li>
</ul>
<h2>文档写入</h2>
<ul>
<li>document对象早期留存了一个可以向网页输出流写入内容的能力。对应方法：write()、writeln()、open()、close()。</li>
<li>write与writeln都接受一个字符串参数，可将此字符串写入网页中，write只是写入，writeln写入后还会在字符串尾部加一个换行符。</li>
</ul>
<pre><code class="language-js">document.write("&#x3C;strong>" + (new Date()).toStirng() + '&#x3C;/strong>')
</code></pre>
<ul>
<li>write写入html标签时要注意对字符串的转义</li>
<li>write在页面加载完成后调用会重写整个页面</li>
<li>open跟close方法用于打开和关闭网页输出流。</li>
<li>严格的XHTML文档不支持文档写入。对于内容类型为 application/xml+xhtml的页面，这些方法无用</li>
</ul>
<h2>Element类型</h2>
<ul>
<li>
<p>Element表示XML或HTML元素，对外暴露访问元素标签名、子节点和属性的能力，特征如下</p>
<ul>
<li>nodeType为1</li>
<li>nodeName值为元素的标签名</li>
<li>nodeValue为null</li>
<li>parentNode值为Document或Element对象</li>
</ul>
</li>
<li>子节点可以使Element、Text、Comment、ProcessingInstruction、CDATASection、EntityReference类型</li>
<li>通过nodeName或tagName获取元素的标签名，两个属性返回同样的值</li>
<li>HTML中，元素标签名始终以全大写表示；在XML（XHTML）中，标签名始终与源代码中的一致。所以在比较时最好将签名转为小写模式</li>
<li>
<p>所有HTML元素都通过HTMLElement类型表示，包括直接实例跟间接实例。HTMLElement直接继承Element并增加了下列属性之一，它们是所有HTML元素上都有的标准属性</p>
<ul>
<li>id，元素在文档中的唯一标识符</li>
<li>title: 元素的额外信息，一般以提示条形式展示</li>
<li>lang: 元素内容的语言代码</li>
<li>dir:语言的书写方向（"ltr"表示左到右，"rtl"表示右到左）</li>
<li>className: 相当于class属性，用于指定元素的CSS类（class为关键字，不能直接用）</li>
</ul>
</li>
<li>每个元素都有零个或多个属性，与属性相关的DOM方法主要有下三个</li>
<li>getAttribute()、setAttribute()、removeAttribute()</li>
</ul>
<pre><code class="language-js">let div = document.getElementById('myDiv')

console.log(div.getAttribute('id'))
console.log(div.getAttribute('class'))
</code></pre>
<ul>
<li>这里传给getAttribute的属性名与实际的属性名是一致的，所以这里传class而不是className，如果属性不存在，返回null</li>
<li>getAttribute可以获取自定义的属性，在html5规范中，自定义属性名前缀应该是data-的形式</li>
<li>元素的所有属性也可以通过相应DOM元素对象的属性来获取。包括HTMLElement上得直接映射对象和所有公认的属性（不包括自定义属性）</li>
<li>
<p>通过DOM对象访问的属性中有两个属性的返回值跟使用getAttribute获取到的值不一致</p>
<ul>
<li>一个是style属性，使用getAttribute获取到的是字符串，通过DOM访问到的是一个（CSSStyleDeclaration）对象。</li>
<li>第二个属性是事件处理程序，比如onclick，在元素上使用事件属性时，属性值是一段JavaScript代码。使用getAttribute获取到的是字符串形式的源码；通过DOM对象的属性访问事件属性时返回的是一个JavaScript函数。这是因为onclick等事件属性是可以接收函数值的</li>
</ul>
</li>
<li>考虑到上面的差异，开发者一般都会放弃使用getAttribute来获取值，只使用对象属性。getAttribute主要用来获取自定义属性的值。</li>
<li>setAttribute接收两个参数：要设置的属性名及属性值。属性值已存在会替换原来的值，属性不存在，就会以指定的值进行创建</li>
<li>使用setAttribute设置的属性名会规范为小写形式，所以"ID"会变成"id"</li>
<li>在DOM对象上设置自定义属性，不会自动让它变成元素的属性</li>
</ul>
<pre><code class="language-js">div.mycolor = 'red'
console.log(div.getAttribute('mycolor')) // null
</code></pre>
<ul>
<li>removeAttribute用于从元素中删除属性，将整个属性完全从元素中去掉</li>
<li>
<p>Element是唯一使用attributes属性的DOM节点类型，attributes属性包含一个NamedNodeMap实例，是一个实时的集合。元素的每个属性都表现为一个Attr节点，并保存在这个NamedNodeMap对象中，NamedNodeMap对象包含下方法</p>
<ul>
<li>getNamedItem(name)， 返回nodeName属性等于name的节点</li>
<li>removeNamedItem(name)，删除nodeName属性等于name的节点</li>
<li>setNamedItem(node)，向列表中添加node节点，以其nodeName作为索引</li>
<li>item(pos)，返回索引pos处的节点</li>
</ul>
</li>
<li>attributes属性中的每个节点的nodeName是对应属性的名字，nodeValue是属性的值。比如要取元素id属性的值</li>
</ul>
<pre><code class="language-js">let id = element.attributes.getNamedItem('id').nodeValue

// 中括号简写
let id = element.attributes['id'].nodeValue
element.attribute['id'].nodeValue = 'someOtherId'
element.attributes.removeNamedItem('id')
</code></pre>
<ul>
<li>可以使用createElement()方法创建新元素，接收一个参数，即要创建的元素的标签名，使用createElement的同时也会把ownerDocument属性设为document</li>
<li>元素可以拥有任意多个子元素和后代元素，childNodes包含元素所有的子节点，可能是其他元素、文本节点、注释或处理命令</li>
</ul>
<pre><code class="language-js">&#x3C;ul>
  &#x3C;li>Item 1&#x3C;/li>
  &#x3C;li>Item 2&#x3C;/li>
  &#x3C;li>Item 3&#x3C;/li>
&#x3C;/ul>

&#x3C;ul>&#x3C;li>Item 1&#x3C;/li>&#x3C;li>Item 2&#x3C;/li>&#x3C;li>Item 3&#x3C;/li>&#x3C;/ul>
</code></pre>
<ul>
<li>不同浏览器识别上面的节点时有不同的差异，有些浏览器会返回七个子节点，三个li元素，4个Text节点，要是下面的格式，就统一返回一样的3个节点数。</li>
<li>所以这种情况下我们会先检查一下节点的nodeType，在执行操作</li>
</ul>
<pre><code class="language-js">for (let i = 0; i &#x3C; element.childNodes.length; i++) {
  if(element.childNodes[i].nodeType === 1) {}
}
</code></pre>
<ul>
<li>要取得某个元素的子节点可以在元素上调用getElementsByTagName()方法，跟在document上的调用形式是一致的，只不过搜索范围变成了当前节点下</li>
</ul>
<h2>Text类型</h2>
<ul>
<li>
<p>Text节点由Text类型表示，包含按字面展示的纯文本，也有可能是转义后的HTML字符串，但不含有HTML代码</p>
<ul>
<li>nodeType为3</li>
<li>nodeName为"#text"</li>
<li>nodeValue值为节点中包含的文本</li>
<li>parentNode值为Element对象</li>
<li>不支持子节点</li>
</ul>
</li>
<li>
<p>Text节点中的文本可以用nodeValue访问，也可以通过data属性访问，修改任意一个值都会反映到另一个值上面，暴露了以下方法</p>
<ul>
<li>appendData(text)，向节点末尾加text</li>
<li>deleteData(offset, count),从offset位置删除count个字符</li>
<li>insertData(offset, text)，从offset位置插入text</li>
<li>replaceData(offset, count, text)，用text文本替换从位置offset到offset + count位置的文本</li>
<li>splitText(offset)，在offset位置将文本拆为两个节点</li>
<li>substringData(offset, count)，提取从offset到offset + count的文本</li>
<li>还可以通过length获取文本节点中包含的字符数量</li>
</ul>
</li>
<li>默认情况下，包含文本内容的每个元素最多只能有一个文本节点</li>
<li>修改文本值时注意HTML或XML代码会被转为实体编码，即小于号、大于号或引号会被转义，如下</li>
</ul>
<pre><code class="language-js">div.firstChild.nodeValue = "some &#x3C;strong>other&#x3C;/strong> message"
// 输出为 "some &#x26;lt;strong&#x26;gt;other&#x26;lt;/strong&#x26;gt;message"
</code></pre>
<ul>
<li>document.createTextNode()可以用来创建文本节点，接受一个参数，就是要插入节点的文本，跟上面的规则一样，这些要插入的值也会被转义</li>
</ul>
<h2>Comment类型</h2>
<ul>
<li>
<p>DOM中的注释通过Comment类型实现，特征如下</p>
<ul>
<li>nodeType为8</li>
<li>nodeName值为"#comment"</li>
<li>nodeValue的值为注释的内容</li>
<li>parentNode值为Document或者Element对象</li>
<li>不支持子节点</li>
</ul>
</li>
<li>Comment类型与Text类型继承自同一个基类(CharacterData)，所以有除了splitText方法外的所有Text节点操作字符串方法</li>
<li>可以使用createComment方法创造注释节点，参数为注释文本</li>
</ul>
<h2>CDATASection类型</h2>
<ul>
<li>
<p>CDATASection类型表示XML中特有的CDATA区块。CDATASection类型继承Text类型，因此有包括splitText方法在内的所有字符串操作方法，特点如下</p>
<ul>
<li>nodeType为4</li>
<li>nodeName为"#cdata-section"</li>
<li>nodeValue值为CDATA区块的内容</li>
<li>parentNode值为Document或Element对象</li>
<li>不支持子节点</li>
</ul>
</li>
<li>CDATA只会在XML文档中有效，有些旧的浏览器会将CDATA区块解析为Comment或Element</li>
</ul>
<pre><code class="language-js">&#x3C;div id="myDiv">&#x3C;![CDATA[This is some conent.]]>&#x3C;/div>
</code></pre>
<ul>
<li>这里div的第一个子节点应该是CDATASection节点，但主流的浏览器没有一个将其识别为CDATASection。在有效的XHTML文档中，这些浏览器也不能恰当的支持嵌入的CDATA区块</li>
</ul>
<h2>DocumentType类型</h2>
<ul>
<li>
<p>DocumentType类型的节点包含文档的文档类型(doctype)信息，特征如下</p>
<ul>
<li>nodeType为10</li>
<li>nodeName值为文档类型的名称</li>
<li>nodeValue值为null</li>
<li>parentNode值为Document对象</li>
<li>不支持子节点</li>
</ul>
</li>
<li>DocumentType在DOM Level 1中不支持动态创建，只能在解析文档时创建。对于支持此类型的浏览器，DocumentType对象保存在document.doctype中</li>
<li>
<p>DOM Level 1规定了DocumentType类型的三个属性：name、entities、notations。</p>
<ul>
<li>name为文档类型的名称</li>
<li>entities是文档类型描述的实体的NamedNodeMap</li>
<li>notations是文档类型描述的表示法的NamedNodeMap。</li>
</ul>
</li>
<li>因为浏览器中文档类型通常为HTML或者XHTML类型，所以entities跟notations列表为空</li>
<li>所以只有name属性是有用的，这个属性包含文档类型的名称，即紧跟&#x3C;!DOCTYPE 后面的文本</li>
</ul>
<pre><code class="language-js">&#x3C;!DOCTYPE HTML PUBLIC "-//W3C// DTD HTML 4.01// EN" "http:// www.w3.org/TR/html4/strict.dtd">
console.log(document.doctype.name)  // 'html'
</code></pre>
<h2>DocumentFragment类型</h2>
<ul>
<li>
<p>DocumentFragment类型是唯一在标记中没有对应表示的类型。DOM将文档片段定义为"轻量级"文档，能够包含和操作节点，却没有完整文档那样的消耗，特点如下</p>
<ul>
<li>NodeType为11</li>
<li>nodeName值为"#document-fragment"</li>
<li>nodeValue值为null</li>
<li>parentNode值为null</li>
<li>子节点可以是Element、ProcessingInstruction、Comment、Text、CDATASection或EntityReference</li>
</ul>
</li>
<li>不能直接将文档碎片添加到文档。文档碎片充当其他要被添加到文档的节点的仓库。</li>
<li>可以使用document.createDocumentFragment()方法创建文档</li>
<li>文档类型从Node继承了所有文档类型具备的可以执行DOM操作的方法。如果文档中一个节点被添加到文档片段，那该节点会从文档树删除，不在被渲染</li>
<li>添加到文档片段的新节点也不属于文档数，也不会被渲染，可以使用appendChild方法将文档片段内容添加到文档，将文档片段当做参数传给这些方法时，文档片段的所有子节点都会被添加到文档数</li>
</ul>
<pre><code class="language-js">let fragment = document.createDocumentFragment()
for(let i = 0; i &#x3C; 3; i++){
  let li = document.createElement('li')
  li.appendChild(document.createTextNode(`Item ${ i }`))
  fragment.appendChild(li)
}
document.body.appendChild(fragment)
</code></pre>
<h2>Attr类型</h2>
<ul>
<li>
<p>元素数据在DOM中通过Attr类型表示。Attr类型构造函数和原型在所有浏览器都可以直接访问。技术上来说，属性是存在于元素attributes属性中的节点，特征如下</p>
<ul>
<li>nodeType为2</li>
<li>nodeName等于属性名</li>
<li>nodeValue为属性值</li>
<li>parentNode值为null</li>
<li>HTML中不支持子节点</li>
<li>XML中子节点可以是Text或EntityReference</li>
</ul>
</li>
<li>属性节点虽然是节点，但不被认为是DOM文档树的一部分，Attr节点很少被直接引用，一般更喜欢getAttribute、removeAttribute、setAttribute方法</li>
<li>Attr对象有三个属性：name、value和specified。name包含属性名，value包含属性值，specified是布尔值，表示属性使用的是默认值还是指定值</li>
<li>可以使用document.createAttribute()方法创建新的Attr节点，参数为属性名。</li>
</ul>
<pre><code class="language-js">let attr = document.createAttribute('align')
attr.value = 'left'
element.setAttributeNode(attr)

console.log(element.attributes['align']) // left
console.log(element.attributeNode('align').value)  // left
console.log(element.getAttribute('align')) // left
</code></pre></div></div></article></span></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/DOM/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-86eae43148bf2d393162.js"],"app":["/app-03a564126170dae91f0b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-52d225bf1fd405f33e03.js"],"component---src-pages-all-file-js":["/component---src-pages-all-file-js-8a4e9b634903be2f7e84.js"],"component---src-pages-index-js":["/component---src-pages-index-js-2ae84adc87fbf451f4b1.js"],"component---src-templates-blog-small-jsx":["/component---src-templates-blog-small-jsx-7847ba26c250224f083e.js"],"component---src-templates-category-jsx":["/component---src-templates-category-jsx-59463967dee71859a4f9.js"],"component---src-templates-index-jsx":["/component---src-templates-index-jsx-1afb50278c9b0fcb6759.js"],"component---src-templates-tag-jsx":["/component---src-templates-tag-jsx-428646eb6a5d437de98d.js"]};/*]]>*/</script><script src="/polyfill-86eae43148bf2d393162.js" nomodule=""></script><script src="/webpack-runtime-c691ad7dc71c44256655.js" async=""></script><script src="/app-03a564126170dae91f0b.js" async=""></script><script src="/framework-31fa3cffff5950ebff26.js" async=""></script><script src="/83d6cd58f512da6a6ea6dd96bfbf09511419d80b-744605ee7713f03b785c.js" async=""></script><script src="/component---src-templates-blog-small-jsx-7847ba26c250224f083e.js" async=""></script><script src="/styles-89fd2ae28bdf06750a71.js" async=""></script></body></html>