{"version":3,"sources":["webpack:///./src/templates/index.jsx","webpack:///./src/components/blogList/blogList.jsx","webpack:///./src/components/paganation/paganation.jsx","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./src/components/paganation/paganation.module.scss"],"names":["Index","props","_this","_React$Component","call","this","console","log","state","edges","data","allMarkdownRemark","count","totalCount","limit","pageContext","currentIndex","componentDidMount","render","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_components_layout_layout__WEBPACK_IMPORTED_MODULE_2__","components_blogList_blogList__WEBPACK_IMPORTED_MODULE_3__","components_paganation_paganation__WEBPACK_IMPORTED_MODULE_4__","baseUrl","React","Component","query","__webpack_exports__","_ref","map","_ref2","index","node","components_listWrapper_listWrapper__WEBPACK_IMPORTED_MODULE_3__","key","gatsby__WEBPACK_IMPORTED_MODULE_2__","to","fields","slug","className","frontmatter","title","dangerouslySetInnerHTML","__html","html","split","data-flex","components_tagList_tagInfo__WEBPACK_IMPORTED_MODULE_4__","categories","tags","Paganation","numPage","Math","ceil","react__WEBPACK_IMPORTED_MODULE_3___default","PaganationStyles","paganation","gatsby__WEBPACK_IMPORTED_MODULE_4__","hide","extend","Array","from","length","item","pageNumber","current","ctx","__webpack_require__","$export","toObject","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","result","step","iterator","O","C","aLen","arguments","mapfn","undefined","mapping","iterFn","next","done","value","$defineProperty","createDesc","module","exports","object","f"],"mappings":"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","file":"component---src-templates-index-jsx-9fca7557437382578941.js","sourcesContent":["import React from \"react\"\r\nimport { graphql } from 'gatsby'\r\nimport Layout from '../components/layout/layout'\r\nimport BlogList from 'components/blogList/blogList'\r\nimport Paganation from 'components/paganation/paganation'\r\nexport default class Index extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    console.log(props)\r\n    this.state = {\r\n      edges: props.data.allMarkdownRemark.edges,\r\n      count: props.data.allMarkdownRemark.totalCount,\r\n      limit: props.pageContext.limit,\r\n      currentIndex: props.pageContext.currentIndex\r\n    }\r\n  }\r\n  componentDidMount(){\r\n  }\r\n  render (){\r\n    const totalCount = this.state.count\r\n    const edges = this.state.edges\r\n    const currentIndex = this.state.currentIndex\r\n    const limit = this.state.limit\r\n    console.log(totalCount, currentIndex, limit)\r\n    return (\r\n      <Layout>\r\n        <div>\r\n          <BlogList edges={edges}></BlogList>\r\n          <Paganation limit={limit} count={totalCount} currentIndex={currentIndex} baseUrl=\"/blog/\"></Paganation>\r\n        </div>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport const query = graphql`\r\n  query($skip: Int!, $limit:Int!) {\r\n    allMarkdownRemark(\r\n      limit: $limit\r\n      filter: {\r\n        frontmatter: {date: {ne: null}}\r\n      }\r\n      skip: $skip\r\n      sort: {fields: [frontmatter___date],order:ASC}\r\n    ){\r\n      totalCount\r\n      edges{\r\n        node {\r\n          html\r\n          fields {\r\n            slug\r\n          }\r\n          frontmatter {\r\n            title\r\n            tags\r\n            categories\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n","import React from 'react'\r\nimport { Link } from 'gatsby'\r\nimport ListWrapper from 'components/listWrapper/listWrapper'\r\nimport TagInfo from 'components/tagList/tagInfo'\r\nexport default ({edges})=> (\r\n  <div>\r\n    {\r\n      edges.map(({node}, index)=>(\r\n        <ListWrapper key={index}>\r\n          <Link to={`/blog${node.fields.slug}`}><h1 className=\"article-title left\">{node.frontmatter.title}</h1></Link>\r\n          <div className=\"article-entry\" dangerouslySetInnerHTML={{__html: node.html.split('<!--more-->')[0]}}></div>\r\n          <div className=\"article-entry-bottom\" data-flex=\"box:last\">\r\n            <TagInfo categories={node.frontmatter.categories} tags={node.frontmatter.tags}></TagInfo>\r\n            <div className=\"article-more-link\">\r\n              <Link to={`/blog${node.fields.slug}`}>阅读全文 >></Link>\r\n            </div>\r\n          </div>\r\n          \r\n        </ListWrapper>\r\n      ))\r\n    }\r\n  </div>\r\n)","import React from 'react'\r\nimport { Link } from 'gatsby'\r\nimport PaganationStyles from './paganation.module.scss'\r\nexport default class Paganation extends React.Component {\r\n  render(){\r\n    let count = this.props.count\r\n    let limit = this.props.limit\r\n    let currentIndex = this.props.currentIndex\r\n    let baseUrl = this.props.baseUrl\r\n    let numPage = Math.ceil(count/limit)\r\n    console.log(baseUrl)\r\n    if(numPage === 1) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className={PaganationStyles.paganation}>\r\n        <Link className={`${currentIndex === 0 ? PaganationStyles.hide : PaganationStyles.extend}`} to={`${baseUrl}${currentIndex - 1}`}>« Prev</Link>\r\n        {\r\n          Array.from({length: numPage}).map((item, index) => {\r\n            return <Link to={`${baseUrl}${index === 0 ? '' : (index+1)}`} className={`${PaganationStyles.pageNumber} ${currentIndex === index ? PaganationStyles.current : ''}`} key={index}>{index+1}</Link>\r\n          })\r\n        }\r\n        <Link className={`${currentIndex < numPage - 1 ? PaganationStyles.extend : PaganationStyles.hide}`} to={`${baseUrl}${currentIndex + 1}`}>Next »</Link>\r\n      </div>\r\n    )\r\n  }\r\n}","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paganation\":\"paganation-module--paganation--2bE_X\",\"extend\":\"paganation-module--extend--2q4Qk\",\"hide\":\"paganation-module--hide--wBlxP\",\"pageNumber\":\"paganation-module--pageNumber--RUHS6\",\"current\":\"paganation-module--current--39YZ4\"};"],"sourceRoot":""}