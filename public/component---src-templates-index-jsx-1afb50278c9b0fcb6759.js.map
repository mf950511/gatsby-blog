{"version":3,"sources":["webpack:///./src/components/paganation/paganation.module.scss","webpack:///./src/components/listWrapper/listWrapper.jsx","webpack:///./src/components/paganation/paganation.jsx","webpack:///./src/components/blogList/blogList.jsx","webpack:///./src/components/listWrapper/listWrapper.module.scss","webpack:///./src/templates/index.jsx"],"names":["module","exports","ListWrapper","componentDidMount","ScrollReveal","require","default","reveal","this","refs","blogList","distance","origin","opacity","render","props","children","title","key","className","ref","listWrapperStyles","listWrapper","listContent","React","Component","Paganation","count","limit","currentIndex","baseUrl","numPage","Math","ceil","console","log","PaganationStyles","paganation","hide","extend","to","Array","from","length","map","item","index","pageNumber","current","edges","node","fields","slug","frontmatter","dangerouslySetInnerHTML","__html","html","split","data-flex","categories","tags","Index","state","data","allMarkdownRemark","totalCount","pageContext","query"],"mappings":"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","file":"component---src-templates-index-jsx-1afb50278c9b0fcb6759.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paganation\":\"paganation-module--paganation--2bE_X\",\"extend\":\"paganation-module--extend--2q4Qk\",\"hide\":\"paganation-module--hide--wBlxP\",\"pageNumber\":\"paganation-module--pageNumber--RUHS6\",\"current\":\"paganation-module--current--39YZ4\"};","import React from 'react'\r\nimport listWrapperStyles from './listWrapper.module.scss'\r\nexport default class ListWrapper extends React.Component{\r\n  componentDidMount(){\r\n    const ScrollReveal = require('scrollreveal').default\r\n    var slideRight = {\r\n      distance: '150%',\r\n      origin: 'right',\r\n      opacity: null\r\n    };\r\n\r\n    ScrollReveal().reveal(this.refs.blogList, slideRight)\r\n  }\r\n  render(){\r\n    const {children, title} = this.props\r\n    return (\r\n      \r\n      <div key=\"amache\" className=\"blogList\" ref=\"blogList\">\r\n          <span>\r\n            <article className={listWrapperStyles.listWrapper}>\r\n              <div className={listWrapperStyles.listContent}>\r\n                <div>{title}</div>\r\n                {children}\r\n              </div>\r\n            </article>\r\n          </span>\r\n        </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport { Link } from 'gatsby'\r\nimport PaganationStyles from './paganation.module.scss'\r\nexport default class Paganation extends React.Component {\r\n  render(){\r\n    let count = this.props.count\r\n    let limit = this.props.limit\r\n    let currentIndex = this.props.currentIndex\r\n    let baseUrl = this.props.baseUrl\r\n    let numPage = Math.ceil(count/limit)\r\n    console.log(baseUrl)\r\n    if(numPage === 1) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className={PaganationStyles.paganation}>\r\n        <Link className={`${currentIndex === 0 ? PaganationStyles.hide : PaganationStyles.extend}`} to={`${baseUrl}${currentIndex - 1}`}>« Prev</Link>\r\n        {\r\n          Array.from({length: numPage}).map((item, index) => {\r\n            return <Link to={`${baseUrl}${index === 0 ? '' : (index+1)}`} className={`${PaganationStyles.pageNumber} ${currentIndex === index ? PaganationStyles.current : ''}`} key={index}>{index+1}</Link>\r\n          })\r\n        }\r\n        <Link className={`${currentIndex < numPage - 1 ? PaganationStyles.extend : PaganationStyles.hide}`} to={`${baseUrl}${currentIndex + 1}`}>Next »</Link>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport { Link } from 'gatsby'\r\nimport ListWrapper from 'components/listWrapper/listWrapper'\r\nimport TagInfo from 'components/tagList/tagInfo'\r\nexport default ({edges})=> (\r\n  <div>\r\n    {\r\n      edges.map(({node}, index)=>(\r\n        <ListWrapper key={index}>\r\n          <Link to={`/blog${node.fields.slug}`}><h1 className=\"article-title left\">{node.frontmatter.title}</h1></Link>\r\n          <div className=\"article-entry\" dangerouslySetInnerHTML={{__html: node.html.split('<!--more-->')[0]}}></div>\r\n          <div className=\"article-entry-bottom\" data-flex=\"box:last\">\r\n            <TagInfo categories={node.frontmatter.categories} tags={node.frontmatter.tags}></TagInfo>\r\n            <div className=\"article-more-link\">\r\n              <Link to={`/blog${node.fields.slug}`}>阅读全文 >></Link>\r\n            </div>\r\n          </div>\r\n          \r\n        </ListWrapper>\r\n      ))\r\n    }\r\n  </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hide\":\"listWrapper-module--hide--2daIu\",\"listWrapper\":\"listWrapper-module--listWrapper--FBSVx\",\"listContent\":\"listWrapper-module--listContent--6okCO\"};","import React from \"react\"\r\nimport { graphql } from 'gatsby'\r\nimport Layout from '../components/layout/layout'\r\nimport BlogList from 'components/blogList/blogList'\r\nimport Paganation from 'components/paganation/paganation'\r\nexport default class Index extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    console.log(props)\r\n    this.state = {\r\n      edges: props.data.allMarkdownRemark.edges,\r\n      count: props.data.allMarkdownRemark.totalCount,\r\n      limit: props.pageContext.limit,\r\n      currentIndex: props.pageContext.currentIndex\r\n    }\r\n  }\r\n  componentDidMount(){\r\n  }\r\n  render (){\r\n    const totalCount = this.state.count\r\n    const edges = this.state.edges\r\n    const currentIndex = this.state.currentIndex\r\n    const limit = this.state.limit\r\n    console.log(totalCount, currentIndex, limit)\r\n    return (\r\n      <Layout>\r\n        <div>\r\n          <BlogList edges={edges}></BlogList>\r\n          <Paganation limit={limit} count={totalCount} currentIndex={currentIndex} baseUrl=\"/blog/\"></Paganation>\r\n        </div>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport const query = graphql`\r\n  query($skip: Int!, $limit:Int!) {\r\n    allMarkdownRemark(\r\n      limit: $limit\r\n      filter: {\r\n        frontmatter: {date: {ne: null}}\r\n      }\r\n      skip: $skip\r\n      sort: {fields: [frontmatter___date],order:ASC}\r\n    ){\r\n      totalCount\r\n      edges{\r\n        node {\r\n          html\r\n          fields {\r\n            slug\r\n          }\r\n          frontmatter {\r\n            title\r\n            tags\r\n            categories\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n"],"sourceRoot":""}